---
// Import Astro components
import Layout from '~/layouts/PageLayout.astro';
import Headline from "~/components/ui/Headline.astro";
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import { React, Fragment } from 'react';
import GalleryModal from '~/components/widgets/GalleryModal.jsx';

// Import gallery data from JSON files
const galleryItems = import.meta.glob('../content/gallery/*.json', { eager: true });

// Process imported files to extract data (assuming JSON exports directly)
const items = Object.values(galleryItems).map((file) => file.default);

const {
  title = 'Department Gallery',
  subtitle = 'Explore moments from our department',
  tagline = 'Discover the essence of our department',
  id,
  isDark = false,
  classes = {},
  bg = '',
} = Astro.props;

const metadata = {
  title: 'Department Gallery',
};
---

<style>
  /* You might need to adjust or remove .gallery-grid rules */
  .gallery-grid__column { 
    margin-bottom: 16px; /* Example for some spacing */
  } 
</style>


<Layout metadata={metadata}>
  <WidgetWrapper id={id} isDark={isDark} containerClass={`max-w-6xl mx-auto ${classes?.container ?? ''}`} bg={bg}>
    <Headline title={title} subtitle={subtitle} tagline={tagline} />
    <GalleryModal client:load items={items} />
  </WidgetWrapper>
</Layout>



//use masonry in displaying the gallery here. 