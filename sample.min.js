"use strict";window.addEventListener("load",function(){function e(e,t){let i=0;const o=[];e.forEach(s=>{const n=new Image;n.onload=(()=>{o.push(n),i++,i===e.length&&t(o)}),n.onerror=(()=>console.error("Failed to load image: "+n.src)),n.src=s})}function t(){console.log("Loading image:",o[s]);const e=new Image;e.onload=function(){console.log("Image loaded:",e.src),r.clearRect(0,0,n.width,n.height),r.drawImage(e,0,0,n.width,n.height)},e.onerror=function(){console.error("Error loading the image")},e.src=o[s],s=(s+1)%o.length,i()}function i(){function e(e,t){return void 0===t&&(t=e,e=0),x(e+(t-e)*m())}function t(e){let t=Array.from(new Array(e).keys());return i(t)}function i(t){let i,o;for(let s=t.length-1;s>=1;--s)i=e(0,s+1),o=t[s],t[s]=t[i],t[i]=o;return t}function o(){let e;k=[];for(let t=0;t<g;++t){k[t]=[];for(let i=0;i<u;++i)e=new j(i,t),k[t][i]=e}}function s(){function e(e){let t,i;e.inMaze=!0;for(let o=0;o<6;++o)t=e.neighbour(o),!1!==t&&(i=c.indexOf(t),-1!=i&&(c.splice(i,1),a.push(t)))}let o,s,n,r,h=0,c=[],a=[];for(k.forEach(e=>{e.forEach(e=>{e.blocked=[!0,!0,!0,!0,!0,!0],e.inMaze=!1,e.tryOrder=t(6),c.push(e)})}),i(c),o=c.pop(),o.depth=0,e(o);a.length;){r=void 0,i(a);e:for(let e=a.length-1;e>=0;--e){o=a[e];for(let t=0;t<6;++t)if(s=o.tryOrder[t],n=o.neighbour(s),n&&n.inMaze){r=e;break e}}if(void 0===r)throw"Bug in createMaze : found no possibility";o.blocked[s]=!1,n.blocked[(s+3)%6]=!1,o.depth=n.depth+1,o.depth>h&&(h=o.depth),a.splice(r,1),e(o)}}function n(e,t){this.cell=e,this.hue=t,this.mark()}function r(t,i){void 0===t&&(t=f/2,i=p/2);let o=j.whichHexagon(t,i);return o instanceof j&&(k.forEach(e=>{e.forEach(e=>{e.explored=!1})}),v=[new n(o,e(360))],!0)}function h(){f=window.innerWidth,p=window.innerHeight;let e=M((window.innerWidth-f)/2,0),t=M((window.innerHeight-p)/2,0);if(l.style.left=e+"px",l.style.top=t+"px",l.style.zIndex=1,l.width=f,l.height=p,d.lineCap="round",u=x((f/a-.5)/1.5),g=x(p/a/H-.5),u+=3,g+=3,!(u<=3||g<=3))return j.dimensions(),o(),s(),k.forEach(e=>{e.forEach(e=>{e.blocked.forEach((t,i)=>{t&&e.drawSide(i)})})}),!0}function c(){b.push()}const a=5;let l,d,f,p,u,g,k,v,b=[],y={};const m=Math.random,x=Math.floor,w=Math.round,M=(Math.ceil,Math.abs,Math.min,Math.max),E=Math.PI,I=(Math.PI,2*Math.PI),T=(Math.sin,Math.cos,Math.atan2),z=(Math.tan,Math.hypot),C=Math.sqrt,H=C(3),P=H/2;let j,O;Math.PI;{let e,t,i;j=function(e,t){this.kx=e,this.ky=t,this.neighbours=[]},j.dimensions=function(){t=(f-a*(1.5*u+.5))/2+a,i=(p-a*H*(g+.5))/2+a*H,e=[[],[],[],[],[],[]],e[3][0]=-(a+.5),e[2][0]=e[4][0]=-(a+.5)/2,e[1][0]=e[5][0]=+(a+.5)/2,e[0][0]=a+.5,e[4][1]=e[5][1]=-(a+.5)*P,e[0][1]=e[3][1]=0,e[1][1]=e[2][1]=(a+.5)*P},j.prototype.size=function(){this.xc=t+1.5*this.kx*a,this.yc=i+this.ky*a*H,1&this.kx&&(this.yc-=a*P),this.vertices=[[],[],[],[],[],[]],this.vertices[3][0]=this.xc+e[3][0],this.vertices[2][0]=this.vertices[4][0]=this.xc+e[2][0],this.vertices[1][0]=this.vertices[5][0]=this.xc+e[1][0],this.vertices[0][0]=this.xc+e[0][0],this.vertices[4][1]=this.vertices[5][1]=this.yc+e[4][1],this.vertices[0][1]=this.vertices[3][1]=this.yc+e[0][1],this.vertices[1][1]=this.vertices[2][1]=this.yc+e[1][1]},j.prototype.drawHexagon=function(e){this.vertices||this.size();let t=d;t.beginPath(),t.moveTo(this.vertices[0][0],this.vertices[0][1]),t.lineTo(this.vertices[1][0],this.vertices[1][1]),t.lineTo(this.vertices[2][0],this.vertices[2][1]),t.lineTo(this.vertices[3][0],this.vertices[3][1]),t.lineTo(this.vertices[4][0],this.vertices[4][1]),t.lineTo(this.vertices[5][0],this.vertices[5][1]),t.lineTo(this.vertices[0][0],this.vertices[0][1]),t.strokeStyle="transparent",t.lineWidth=.5,t.fillStyle=`hsl(55, 100%, ${Math.max(20,60-e%40)}%)`,t.fill()},j.prototype.drawSide=function(e){let t=(e+1)%6;this.vertices||this.size();let i=d;i.beginPath(),i.moveTo(this.vertices[e][0],this.vertices[e][1]),i.lineTo(this.vertices[t][0],this.vertices[t][1]),i.strokeStyle="transparent",i.lineWidth=.5,i.stroke()},j.prototype.neighbour=function(e){let t=this.neighbours[e];return t instanceof j?t:!1!==t&&(t=1&this.kx?{kx:this.kx+[1,0,-1,-1,0,1][e],ky:this.ky+[0,1,0,-1,-1,-1][e]}:{kx:this.kx+[1,0,-1,-1,0,1][e],ky:this.ky+[1,1,1,0,-1,0][e]},t.kx<0||t.ky<0||t.kx>=u||t.ky>=g?(this.neighbours[e]=!1,!1):(t=k[t.ky][t.kx],this.neighbours[e]=t,t.neighbours[(e+3)%6]=this,t))},j.whichHexagon=function(e,o){let s,n,r,h,c;h=w((e-t)/1.5/a),c=w((o-i)/a/H+.5*(1&h));let l=t+1.5*h*a,d=i+c*a*H;1&h&&(d-=a*P);let f=T(o-d,e-l);switch(f<0&&(f+=I),f=x(3*f/E)%6,f){case 0:s=1.5*a,n=P*a;break;case 1:s=0,n=H*a;break;case 2:s=-1.5*a,n=P*a;break;case 3:s=-1.5*a,n=-P*a;break;case 4:s=0,n=-H*a;break;case 5:s=1.5*a,n=-P*a}let p=z(e-l,o-d),v=z(e-s-l,o-n-d);return v<p&&(r=1&h?{kx:h+[1,0,-1,-1,0,1][f],ky:c+[0,1,0,-1,-1,-1][f]}:{kx:h+[1,0,-1,-1,0,1][f],ky:c+[1,1,1,0,-1,0][f]},({kx:h,ky:c}=r)),!(h<0||c<0||h>=u||c>=g)&&k[c][h]},j.prototype.clearHexagon=function(){let e=d;e.globalCompositeOperation="destination-out",e.beginPath(),e.moveTo(this.vertices[0][0],this.vertices[0][1]),this.vertices.forEach((t,i)=>{i>0&&e.lineTo(t[0],t[1])}),e.closePath(),e.fill(),e.globalCompositeOperation="source-over"}}n.prototype.mark=function(){this.cell.explored=!0,this.cell.drawHexagon(this.hue)},n.prototype.explore=function(){let e,i,o=t(6),s=this.cell;for(let t=0;t<6;++t)i=o[t],s.blocked[i]||s.neighbour(i).explored||(e?v.push(new n(s.neighbour(i),this.hue-1)):e=s.neighbour(i));return!!e&&(this.cell=e,this.mark(),!0)};{let e=0;O=function(t){const i=b.shift();switch(window.requestAnimationFrame(O),e){case 0:h()&&++e;break;case 1:r(y.x,y.y)&&++e;break;case 2:if(0==v.length){++e;break}v.forEach((e,t)=>{e.explore()||v.splice(t,1)});break;case 3:if("click"!==i)break;e=0}}}l=document.getElementById("mazeCanvas"),d=l.getContext("2d"),l.style.position="absolute",document.body.appendChild(l),c(),O()}const o=["https://firebasestorage.googleapis.com/v0/b/cj-001.appspot.com/o/hero%20(1).jpg?alt=media&token=5c794b13-9c52-4bf4-ba23-f336f8456fce","https://firebasestorage.googleapis.com/v0/b/cj-001.appspot.com/o/img%20(1).jfif?alt=media&token=6d065fc7-904e-4ae0-97f5-1ae143a052b3","https://firebasestorage.googleapis.com/v0/b/cj-001.appspot.com/o/hero-ie%20(1).jpg?alt=media&token=b1f8f3ae-5715-4e03-a112-55fa49fda3ea"];let s=0,n=document.getElementById("maze-canvas"),r=n.getContext("2d");n.style.position="absolute",document.body.appendChild(n),n.width=window.innerWidth,n.height=window.innerHeight,e(o,e=>{t(e),setInterval(()=>{t(e)},1e4)})});