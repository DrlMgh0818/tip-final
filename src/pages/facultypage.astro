---
// Import Astro components
import Layout from '~/layouts/PageLayout.astro';
import FacultyCard from '~/components/widgets/FacultyCard.astro';

// Import faculty data from JSON files
const facultyDataFiles = import.meta.glob('../content/faculty/*.json', { eager: true });

// Process imported files to extract default exports (faculty data)
const faculty = Object.values(facultyDataFiles).map((file) => file.default);

const metadata = {
  title: 'Faculty Members',
};
---

<Layout metadata={metadata}>
  <div class="text-center py-8">
    <h1 class="text-3xl font-bold text-accent">Our Esteemed Faculty</h1>
    <p class="text-accent">Dedicated educators and leaders in their fields</p>
  </div>

  <div class="faculty-container grid grid-cols-1 md:grid-cols-2 gap-4">
    {faculty.map(member => (
      <FacultyCard {...member} />
    ))}
  </div>
</Layout>
